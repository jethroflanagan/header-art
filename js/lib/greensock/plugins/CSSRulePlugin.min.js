/*!
 * VERSION: beta 0.15
 * DATE: 2012-06-23
 * JavaScript 
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.CSSRulePlugin",["plugins.TweenPlugin","TweenLite"],function(p){var l=function(){p.call(this,"cssRule");this._overwriteProps.pop()},m=l.prototype=new p("cssRule");m.constructor=l;l.API=2;l.suffixMap={top:"px",right:"px",bottom:"px",left:"px",width:"px",height:"px",fontSize:"px",padding:"px",margin:"px"};var n=/[^\d\-\.]/g,v=/(\d|\-|\+|=|#|\.)*/g,E=/(\d|\.)+/g,w=/opacity=([^)]*)/,F=/([A-Z])/g,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi, H=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,o=Math.PI/180,q=document.createElement("div"),x=function(){var c=document.createElement("div"),a;c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>";return!(a=c.getElementsByTagName("a")[0])?!1:/^0.55/.test(a.style.opacity)}(),y=function(c){return!c||""===c?r.black:r[c]?r[c]:"number"===typeof c?[c>>16,c>>8&255,c&255]:"#"===c.charAt(0)?(4===c.length&&(c="#"+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)+c.charAt(3)+c.charAt(3)),c=parseInt(c.substr(1), 16),[c>>16,c>>8&255,c&255]):c.match(E)||r.transparent},z=document.defaultView?document.defaultView.getComputedStyle:function(){},A=function(c,a,e,b){return!x&&"opacity"===a?w.test("string"===typeof c?c:(c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?parseFloat(RegExp.$1)/100:1:!b&&c.style[a]?c.style[a]:(e=e||z(c,null))?(c=e.getPropertyValue(a.replace(F,"-$1").toLowerCase()))||e.length?c:e[a]:c.currentStyle?c.currentStyle[a]:null},B={scaleX:1,scaleY:1,x:1,y:1,rotation:1,shortRotation:1, skewX:1,skewY:1,scale:1},C,i=function(){for(var c=document.body||document.documentElement,a=z(c,""),e="O -o- Moz -moz- ms -ms- Webkit -webkit-".split(" "),b=9;-1<(b-=2)&&!A(c,e[b]+"transform",a););return 0<b?(C=e[b]+"transform",e[b-1]+"Transform"):null}();l.getRule=function(c){var a=document.all?"rules":"cssRules",e=document.styleSheets,b=e.length,f=":"===c.charAt(0),d,g,h,c=(f?"":",")+c+",";for(f&&(h=[]);-1<--b;){g=e[b][a];for(d=g.length;-1<--d;)if(-1!==(","+g[d].selectorText.split("::").join(":")+ ",").indexOf(c))if(f)h.push(g[d].style);else return g[d].style}return h};var D=function(c,a){q.cssText=c.cssText;var e=c._gsTransform,b;i?b=A(q,C,null,!0):q.currentStyle&&(b=(b=q.currentStyle.filter.match(G))&&4===b.length?b[0].substr(4)+","+Number(b[2].substr(4))+","+Number(b[1].substr(4))+","+b[3].substr(4)+","+(e?e.x:0)+","+(e?e.y:0):null);b=(b||"").replace(/[^\d\-\.e,]/g,"").split(",");var f=6<=b.length,d=f?Number(b[0]):1,g=f?Number(b[1]):0,h=f?Number(b[2]):0,j=f?Number(b[3]):1,e=a?e||{skewY:0}: {skewY:0},k=0>e.scaleX;e.x=f?Number(b[4]):0;e.y=f?Number(b[5]):0;e.scaleX=Math.sqrt(d*d+g*g);e.scaleY=Math.sqrt(j*j+h*h);e.rotation=d||g?Math.atan2(g,d):e.rotation||0;e.skewX=h||j?Math.atan2(h,j)+e.rotation:e.skewX||0;Math.abs(e.skewX)>Math.PI/2&&(k?(e.scaleX*=-1,e.skewX+=0>=e.rotation?Math.PI:-Math.PI,e.rotation+=0>=e.rotation?Math.PI:-Math.PI):(e.scaleY*=-1,e.skewX+=0>=e.skewX?Math.PI:-Math.PI));if(1.0E-6>e.rotation&&-1.0E-6<e.rotation&&(d||g))e.rotation=0;if(1.0E-6>e.skewX&&-1.0E-6<e.skewX&&(g|| h))e.skewX=0;a&&(c._gsTransform=e);return e},u=function(c,a){if(null==c||""===c||"auto"===c)c="0 0";var a=a||{},e=-1!==c.indexOf("left")?"0%":-1!==c.indexOf("right")?"100%":c.split(" ")[0],b=-1!==c.indexOf("top")?"0%":-1!==c.indexOf("bottom")?"100%":c.split(" ")[1];null==b?b="0":"center"===b&&(b="50%");"center"===e&&(e="50%");a.oxp=-1!==e.indexOf("%");a.oyp=-1!==b.indexOf("%");a.oxr="="===e.charAt(1);a.oyr="="===b.charAt(1);a.ox=parseFloat(e.replace(n,""));a.oy=parseFloat(b.replace(n,""));return a}, s=function(c,a){return null==c?a:"string"===typeof c&&1===c.indexOf("=")?Number(c.split("=").join(""))+a:Number(c)},t=function(c,a){var e=-1===c.indexOf("rad")?o:1,b=1===c.indexOf("="),c=Number(c.replace(n,""))*e;return b?c+a:c},r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0, 128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};m._onInitTween=function(c,a,e){this._style=c;this._tween=e;this._transform=null;this._parseVars(a,c,a.suffixMap||l.suffixMap);return!0};m._parseVars=function(c,a,e){var b,f,d,g,h,j,k;for(b in c)if(f=c[b],"transform"===b||b===i)this._parseTransform(a,f,e);else if(B[b]||"transformOrigin"===b)this._parseTransform(a,c,e);else{if("alpha"===b||"autoAlpha"===b)b="opacity";else if("margin"===b||"padding"===b){f=(f+"").split(" "); g=f.length;d={};d[b+"Top"]=f[0];d[b+"Right"]=1<g?f[1]:f[0];d[b+"Bottom"]=4===g?f[2]:f[0];d[b+"Left"]=4===g?f[3]:2===g?f[1]:f[0];this._parseVars(d,a,e);continue}else if("backgroundPosition"===b||"backgroundSize"===b){d=u(f);k=u(g=a[b]||"50% 50%");this._firstPT=d={_next:this._firstPT,t:a,p:b,b:g,f:!1,n:"css_"+b,type:3,s:k.ox,c:d.oxr?d.ox:d.ox-k.ox,ys:k.oy,yc:d.oyr?d.oy:d.oy-k.oy,sfx:d.oxp?"%":"px",ysfx:d.oyp?"%":"px",r:!d.oxp&&!1!==c.autoRound};d.e=d.s+d.c+d.sfx+" "+(d.ys+d.yc)+d.ysfx;continue}else if("border"=== b){f=(f+"").split(" ");this._parseVars({borderWidth:f[0],borderStyle:f[1]||"none",borderColor:f[2]||"#000000"},a,e);continue}else if("autoRound"===b)continue;g=a[b];g=null!=g?g+"":"";this._firstPT=d={_next:this._firstPT,t:a,p:b,b:g,f:!1,n:"css_"+b,sfx:"",r:!1,type:0};"opacity"===b&&null!=c.autoAlpha&&(this._firstPT=d._prev={_next:d,t:a,p:"visibility",f:!1,n:"css_visibility",r:!1,type:-1,b:0!==Number(g)?"visible":"hidden",i:"visible",e:0===Number(f)?"hidden":"visible"},this._overwriteProps.push("css_visibility")); if("color"===b||"fill"===b||"stroke"===b||-1!==b.indexOf("Color")||"string"===typeof f&&!f.indexOf("rgb("))h=y(g),g=y(f),d.e=f,d.s=Number(h[0]),d.c=Number(g[0])-d.s,d.gs=Number(h[1]),d.gc=Number(g[1])-d.gs,d.bs=Number(h[2]),d.bc=Number(g[2])-d.bs,3<h.length||3<g.length?(d.as=4>h.length?1:Number(h[3]),d.ac=(4>g.length?1:Number(g[3]))-d.as,d.type=d.c||d.gc||d.bc||d.ac?2:-1):d.type=d.c||d.gc||d.bc?1:-1;else{h=g.replace(v,"");k=""===g||"auto"===g?"opacity"!==b?0:1:-1===g.indexOf(" ")?parseFloat(g.replace(n, "")):NaN;"string"===typeof f?(g="="===f.charAt(1),j=f.replace(v,""),f=-1===f.indexOf(" ")?parseFloat(f.replace(n,"")):NaN):(g=!1,j="");""===j&&(j=e[b]||h);d.e=f||0===f?(g?f+k:f)+j:c[b];if(h!==j&&""!==j&&(f||0===f))if(k||0===k)throw"CSSRulePlugin error: starting and ending units don't match on tween of "+b+" ("+h+" vs "+j+")";if((k||0===k)&&(f||0===f)&&(d.c=g?f:f-k))if(d.s=k,d.sfx=j,"opacity"===b)x||(d.type=4,d.p="filter",d.b="alpha(opacity="+100*d.s+")",d.e="alpha(opacity="+100*(d.s+d.c)+")",d.dup= null!=c.autoAlpha,this._style.zoom=1);else{if(!1!==c.autoRound&&("px"===j||"zIndex"===b))d.r=!0}else d.type=-1,d.i=d.e,d.s=d.c=0}this._overwriteProps.push("css_"+b);d._next&&(d._next._prev=d)}};m._parseTransform=function(c,a){if(!this._transform){var e=this._transform=D(c,!0),b,f,d;if("object"===typeof a){b={scaleX:s(null!=a.scaleX?a.scaleX:a.scale,e.scaleX),scaleY:s(null!=a.scaleY?a.scaleY:a.scale,e.scaleY),x:s(a.x,e.x),y:s(a.y,e.y)};null!=a.shortRotation?(b.rotation="number"===typeof a.shortRotation? a.shortRotation*o:t(a.shortRotation,e.rotation),f=(b.rotation-e.rotation)%(2*Math.PI),f!==f%Math.PI&&(f+=Math.PI*(0>f?2:-2)),b.rotation=e.rotation+f):b.rotation=null==a.rotation?e.rotation:"number"===typeof a.rotation?a.rotation*o:t(a.rotation,e.rotation);b.skewX=null==a.skewX?e.skewX:"number"===typeof a.skewX?a.skewX*o:t(a.skewX,e.skewX);b.skewY=null==a.skewY?e.skewY:"number"===typeof a.skewY?a.skewY*o:t(a.skewY,e.skewY);if(f=b.skewY-e.skewY)b.skewX+=f,b.rotation+=f;1.0E-6>b.skewY&&-1.0E-6<b.skewY&& (b.skewY=0);1.0E-6>b.skewX&&-1.0E-6<b.skewX&&(b.skewX=0);1.0E-6>b.rotation&&-1.0E-6<b.rotation&&(b.rotation=0);if(null!=(f=a.transformOrigin))i?(d=i+"Origin",this._firstPT=f={_next:this._firstPT,t:c,p:d,s:0,c:0,n:d,f:!1,r:!1,b:c[d],e:f,i:f,type:-1,sfx:""},f._next&&(f._next._prev=f)):u(f,e)}else if("string"===typeof a&&i)f=c[i],c[i]=a,b=D(c,!1),c[i]=f;else return;i?"WebkitTransform"===i&&(c[i+"Style"]="preserve-3d"):c.zoom=1;for(d in B)e[d]!==b[d]&&("shortRotation"!==d&&"scale"!==d)&&(this._firstPT= f={_next:this._firstPT,t:e,p:d,s:e[d],c:b[d]-e[d],n:d,f:!1,r:!1,b:e[d],e:b[d],type:0,sfx:0},f._next&&(f._next._prev=f),this._overwriteProps.push("css_"+d))}};m.setRatio=function(c){var a=this._firstPT,e=1.0E-6,b,f;if(1===c&&(this._tween._time===this._tween._duration||0===this._tween._time))for(;a;)a.t[a.p]=a.e,a=a._next;else if(c||!(this._tween._time===this._tween._duration||0===this._tween._time))for(;a;)b=a.c*c+a.s,a.r?b=0<b?b+0.5>>0:b-0.5>>0:b<e&&b>-e&&(b=0),a.type?1===a.type?a.t[a.p]="rgb("+(b>> 0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+")":2===a.type?a.t[a.p]="rgba("+(b>>0)+", "+(a.gs+c*a.gc>>0)+", "+(a.bs+c*a.bc>>0)+", "+(a.as+c*a.ac)+")":-1===a.type?a.t[a.p]=a.i:3===a.type?(f=a.ys+c*a.yc,a.r&&(f=0<f?f+0.5>>0:f-0.5>>0),a.t[a.p]=b+a.sfx+" "+f+a.ysfx):(a.dup&&(a.t.filter=a.t.filter||"alpha(opacity=100)"),a.t.filter=-1===a.t.filter.indexOf("opacity=")?a.t.filter+(" alpha(opacity="+(100*b>>0)+")"):a.t.filter.replace(w,"opacity="+(100*b>>0))):a.t[a.p]=b+a.sfx,a=a._next;else for(;a;)a.t[a.p]= a.b,a=a._next;if(this._transform)if(a=this._transform,i&&!a.rotation&&!a.skewX)this._style[i]=(a.x||a.y?"translate("+a.x+"px,"+a.y+"px) ":"")+(1!==a.scaleX||1!==a.scaleY?"scale("+a.scaleX+","+Math.cos(a.skewX)*a.scaleY+")":"")||"translate(0px,0px)";else{b=i?a.rotation:-a.rotation;f=i?b-a.skewX:b+a.skewX;c=Math.cos(b)*a.scaleX;b=Math.sin(b)*a.scaleX;var d=Math.sin(f)*-a.scaleY;f=Math.cos(f)*a.scaleY;b<e&&b>-e&&(b=0);d<e&&d>-e&&(d=0);i?this._style[i]="matrix("+c+","+b+","+d+","+f+","+a.x+","+a.y+")": (e=b,b=-d,a=this._style.filter,this._style.filter="",e="progid:DXImageTransform.Microsoft.Matrix(M11="+c+", M12="+b+", M21="+-e+", M22="+f+",sizingMethod='auto expand')",this._style.filter=-1!==a.indexOf("progid:DXImageTransform.Microsoft.Matrix(")?a.replace(H,e):a+" "+e)}};m._kill=function(c){var a=c,e;if(c.autoAlpha||c.alpha){a={};for(e in c)a[e]=c[e];a.opacity=1;a.autoAlpha&&(a.visibility=1)}return p.prototype._kill.call(this,a)};p.activate([l]);return l},!0)});window._gsDefine&&_gsQueue.pop()();